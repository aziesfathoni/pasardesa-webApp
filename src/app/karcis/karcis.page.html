<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Karcis</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-item>
    <ion-tabs>
        <!-- Tab bar -->
      <ion-tab-bar slot="top">
        <ion-tab-button tab="account">
          <ion-icon name="file-tray-full"></ion-icon>
          Record
        </ion-tab-button>
        <ion-tab-button tab="account">
          <ion-icon name="exit"></ion-icon>
          Pengambilan
        </ion-tab-button>
        <ion-tab-button tab="account">
          <ion-icon name="download"></ion-icon>
          Setoran
        </ion-tab-button>
      </ion-tab-bar>
    </ion-tabs>
  </ion-item>
  <div class="flex flex-col">
    <div class="overflow-x-auto sm:mx-0.5 lg:mx-0.5">
      <div class="py-2 inline-block min-w-full sm:px-6 lg:px-8">
        <div class="overflow-hidden">
          <header style="text-align: center">Record Pengambilan dan Setoran Karcis</header>
          <table class="min-w-full">
            <thead class="bg-white border-b">
              <tr>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">No</th>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Kode</th>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Tgl Ambil</th>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Nama Pegawai</th>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Jumlah</th>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Harga</th>
                <th scope="col" class="text-sm font-medium text-gray-900 px-6 py-4 text-left">Nominal</th>
              </tr>
            </thead>
            
            <tbody>
              <ng-container *ngIf="isLoading; else tableContent">
                <ng-container *ngFor="let _ of [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]">
                  <tr>
                    <td class="px-4 py-2" *ngFor="let _ of [0,1,2,3,4,5,6,7]">
                      <ion-skeleton-text [animated]="true"></ion-skeleton-text>
                    </td>
                  </tr>
                </ng-container>
              </ng-container>
              <ng-template #tableContent>
                <tr *ngFor="let item of data; let idx = index;" [class.bg-gray-100]="idx % 2 === 0" class="hover:bg-gray-200 cursor-default">
                  <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap text-center">{{idx + 1}}</td>
                  <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">{{ item.kd_karcis }}</td>
                   <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">{{ item.tgl_ambil | date:'dd-MM-yyyy' }}</td>
                    <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">{{ item.nama_pegawai }}</td>
                    <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">{{ item.jumlah_karcis }}</td>
                    <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">{{ item.harga_karcis | number }}</td>
                    <td class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap">{{ item.nominal | number:'1.0-0' }}</td>
                </tr>
                <tr *ngIf="(data)?.length == 0">
                  <td colspan="8" class="px-4 py-2 text-center text-gray-700">No Data Available</td>
                </tr>
              </ng-template>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</ion-content>
